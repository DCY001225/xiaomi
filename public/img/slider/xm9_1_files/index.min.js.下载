!function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){e.exports=i(1)},function(e,t,i){i(2),i(7),i(8),$(document).ready(function(){var e=$("#J_mi9Index"),t=e.find(".section"),i=$(window).width();1226>i&&(i=1226);var n="",s="",o="",r="",a="",l="";window.onload=function(){window.onclick=function(){$("video").each(function(){$(this)[0].play()})}};var d={zoom:function(){var e=document.body.clientWidth?document.body.clientWidth:document.documentElement.clientWidth;document.getElementsByTagName("html")[0].style.fontSize=e/2560*100+"px"},lazyLoad:function(){t.visibleWatcher({offset:0,onVisible:function(e,i){t.filter(function(e){return i+1>=e}).addClass("preload").find("img").each(function(){window.loadImage($(this))}),4===i&&d.gallerySlider();var n=e.find("video");if(window.supportsVideo&&n.length){var s=n.eq(0);s&&!s.data("preload")&&(s.data("preload",!0),s.data("autoplay",!0),setTimeout(function(){s[0].play(),s[1]&&s[1].play()},500))}}})},gallerySlider:function(){n&&n.destroySlider(),n=$(".J_pic").slider({mode:"fade",auto:!1,pager:!1,controls:!1,speed:300,onSlideBefore:function(e,t,i){$(".J_btn .btn").eq(i).addClass("active").siblings().removeClass("active"),$(".vice").hide().eq(i).show(),$("video").each(function(){$(this)[0].play()})},pause:5e3}),$(".J_btn .btn").click(function(){n.goToSlide($(this).index()),$(".vice").hide().eq($(this).index()).show(),$("video").each(function(){$(this)[0].play()})})},picSlider:function(){s&&s.destroySlider(),o&&o.destroySlider(),s=$(".J_pic2").slider({mode:"horizontal",auto:!0,pager:!0,controls:!1,speed:1e3,pause:5e3}),o=$(".J_pic1").slider({mode:"horizontal",auto:!0,minSlides:1,maxSlides:2,slideMargin:50,moveSlides:1,slideWidth:i/2,pager:!0,controls:!1,speed:1e3,pause:5e3,onSliderLoad:function(){$(".J_pic1").css({left:-(i/2+25)/2+"px"})}})},indexSlider:function(){r&&r.destroySlider(),r=$(".J_pic6").slider({mode:"fade",auto:!0,pager:!0,controls:!1,speed:1e3,pause:5e3})},borderSlider:function(){a&&a.destroySlider(),l&&l.destroySlider(),a=$(".J_pic3").slider({mode:"fade",auto:!0,pager:!0,controls:!1,speed:1e3,pause:5e3}),l=$(".J_pic4").slider({mode:"horizontal",auto:!0,pager:!0,controls:!1,speed:1e3,pause:5e3})},playVideo:function(){var e=!0,t=function(e,t,i){$("#J_videoModal").modal("show").one("hidden",function(){$(this).find(".modal-bd").empty()}).find(".modal-bd").miPlayer({showTitle:!1,autoPlay:!0,width:t,height:i,title:"",poster:"",videos:e})};$(".J_play").on("click",function(){var i=[];i.push($(this).data("path")),e?$.getScript("//c1.mifile.cn/f/i/miplayer/miPlayer.min.js",function(){t(i,1e3,561),e=!1}):t(i,1e3,561)})},resize:function(){i=$(window).width(),1226>i&&(i=1226),this.zoom(),this.gallerySlider(),this.picSlider(),this.indexSlider(),this.borderSlider(),$("#J_videoModal .modal-bd").css({width:$(window).width(),height:$(window).height()}),this.lazyLoad()},init:function(){this.playVideo(),this.resize()}};d.init(),MI.getProductPrice(),$(window).on("resize",function(){d.resize()}),MI.getProductPrice({priceWrapper:".J_priceWrapper",originalPrice:".J_originalPrice",currentPrice:".J_currentPrice"})})},function(e,t,i){i(3),i(6),$(function(){MI.proNav(),window.supportsVideo=function(){return!!document.createElement("video").canPlayType}(),window.loadImage=function(e){var t=new Image;return t.src=e.data("src"),t.src?t.complete?void e.attr("src",t.src):void(t.onload=function(){e.attr("src",t.src)}):void 0}})},function(e,t,i){MI.proNav=function(e){if(0!==$("#J_proHeader").length){var t=i(4),n=$("#J_proHeader").find("h2").text();$("#J_proHeader").html(t(n)),window.tarList=[];var s=window.tarList,o=function(){var e=$(window).scrollTop();for(var t in s)if(s.hasOwnProperty(t)){var i=s[t],n=i.top;e>n?i.callback(i,e):i.reverse&&i.reverse(i,e)}};$(window).on("scroll",function(){o()}),0===$(".J_miOneScroller").length&&$("html,body").animate({scrollTop:1===$("#J_proHeader").length?$("#J_proHeader").offset().top:140},1e3),e=e||{};var r={id:e.id?e.id:"",target:e.target?e.target:""},a=function(){var e=140;1===$("#J_proHeader").length&&(e=$("#J_proHeader").offset().top+$("#J_proHeader").height());var t=e;s.push({top:t,callback:function(){$("#J_fixNarBar").addClass("nav_fix")},reverse:function(){$("#J_fixNarBar").removeClass("nav_fix")}})},l={};r.id?l.product_id=r.id:l.url="http://"+window.location.host+window.location.pathname,$.ajax({type:"GET",url:MI.GLOBAL_CONFIG.orderSite+"/product/gettabinfo",data:l,dataType:"jsonp",jsonp:"jsonpcallback",timeout:1e4,success:function(e){if(1===e.code&&(e=e.data,e.link)){e.link.id=r.id||e.link.product_id,e.link.target=r.target,e.link.domain=MI.GLOBAL_CONFIG.itemSite,e.link.url="//"+window.location.host+window.location.pathname;var t=i(5);if($(".J_navSwitch").find(".con").html(t(e.link)),$(".J_buyBtn").attr("href",MI.GLOBAL_CONFIG.itemSite+"/product/"+e.link.id+".html"),a(),e.link.qrcode_list){var n=$("#J_mpQrcode"),s=$("#J_mpQrcodeTmp");if(n.length>0&&s.length>0){var o=doT.template(s.html());n.html(o(e.link))}}}}})}}},function(e,t){e.exports=function(e){var t='<div class="xm-product-box"> <div class="nav-bar" id="J_headNav"> <div class="container J_navSwitch"> <h2 class="J_proName">'+e+'</h2> <div class="con"></div> </div> </div></div><div class="xm-product-box nav-bar-hidden" id="J_fixNarBar"> <div class="nav-bar" > <div class="container J_navSwitch"> <h2 class="J_proName">'+e+'</h2> <div class="con"></div> </div> </div></div>';return t}},function(e,t){e.exports=function(e){var t="";if(e.left&&e.left.length>0){t+='<div class="left"> ';var i=e.left;if(i)for(var n,s=-1,o=i.length-1;o>s;){n=i[s+=1],t+=" ";var r=n.url.replace(/^http:\/\/|^https:\/\//g,"//");t+=' <span class="separator">|</span> ',r===e.url?t+=' <a  href="javascript:void(0);" class="cur" >'+n.title+"</a> ":(t+=' <a  href="'+r+'" ',n.is_new_page&&(t+='target="_blank"'),t+=">"+n.title+"</a> "),t+=" "}t+="</div>"}if(t+='<div class="right">',e.right&&e.right.length>0){t+=" ";var a=e.right;if(a)for(var n,s=-1,l=a.length-1;l>s;){n=a[s+=1],t+=" ";var r=n.url.replace(/^http:\/\/|^https:\/\//g,"//");t+=" ",r===e.url?t+=' <a  href="javascript:void(0);" class="cur" >'+n.title+"</a> ":(t+=' <a  href="'+r+'" ',n.is_new_page&&(t+='target="_blank"'),t+=">"+n.title+"</a> "),t+=' <span class="separator">|</span> '}}return e.id&&(t+=" ","buy"===e.target&&(t+=' <a href="'+e.domain+"/comment/"+e.id+'.html">用户评价</a> '),t+=" ","comment"===e.target&&(t+=' <a href="javascript:void(0);" class="cur">用户评价</a> <a href="'+e.domain+"/product/"+e.id+'.html" class="btn btn-small btn-primary" >立即购买</a> '),t+=" ","buy"!==e.target&&"comment"!==e.target&&(t+=' <a href="'+e.domain+"/comment/"+e.id+'.html" >用户评价</a> <a href="'+e.domain+"/product/"+e.id+'.html" class="btn btn-small btn-primary" >立即购买</a> ')),t+="</div>"}},function(e,t){!function(e){function t(t){function i(){for(var t=-1,i=e(document).scrollTop(),n=0,s=d.length;s>n&&i+r.viewport.height()>d[n];n+=1)t+=1;return t}function n(){var t=i();l!==t&&(l=t,a.filter(function(t){return l>=t&&!e(this).hasClass(r.visibleClass)}).addClass(r.visibleClass).trigger("visible.visibleWatcher"),r.onVisible(a.eq(l),l))}function s(){a.each(function(){var t=e(this).attr("data-offset")?Number(e(this).attr("data-offset")):r.offset,i=t%1===0?t:t*r.viewport.height();d.push(e(this).offset().top+i)}),n(),r.onLoad()}var o,r,a=e(this),l=-1,d=[];o={viewport:e(window),visibleClass:"is-visible",offset:300,onLoad:e.noop,onVisible:e.noop},r=e.extend({},o,t),s(),r.viewport.on({"scroll.visibleWatcher":n,"resize.visibleWatcher":s})}e.fn.visibleWatcher=function(e){return t.call(this,e),this}}(jQuery)},function(e,t){!function(e){var t={},n={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"ui-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"下一张",prevText:"上一张",nextSelector:null,prevSelector:null,autoControls:!1,startText:"开始",stopText:"停止",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:e.noop,onSlideBefore:e.noop,onSlideAfter:e.noop,onSlideNext:e.noop,onSlidePrev:e.noop,onSliderResize:e.noop};e.fn.slider=function(s){if(0==this.length)return this;if(this.length>1)return this.each(function(){e(this).slider(s)}),this;var o={},r=this;t.el=this;var a=e(window).width(),l=e(window).height(),d=function(){o.settings=e.extend({},n,s),o.settings.slideWidth=parseInt(o.settings.slideWidth),o.children=r.children(o.settings.slideSelector),o.children.length<o.settings.minSlides&&(o.settings.minSlides=o.children.length),o.children.length<o.settings.maxSlides&&(o.settings.maxSlides=o.children.length),o.settings.randomStart&&(o.settings.startSlide=Math.floor(Math.random()*o.children.length)),o.active={index:o.settings.startSlide},o.carousel=o.settings.minSlides>1||o.settings.maxSlides>1,o.carousel&&(o.settings.preloadImages="all"),o.minThreshold=o.settings.minSlides*o.settings.slideWidth+(o.settings.minSlides-1)*o.settings.slideMargin,o.maxThreshold=o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin,o.working=!1,o.controls={},o.interval=null,o.animProp="vertical"==o.settings.mode?"top":"left",o.usingCSS=o.settings.useCSS&&"fade"!=o.settings.mode&&function(){var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in t)if(void 0!==e.style[t[i]])return o.cssPrefix=t[i].replace("Perspective","").toLowerCase(),o.animProp="-"+o.cssPrefix+"-transform",!0;return!1}(),"vertical"==o.settings.mode&&(o.settings.maxSlides=o.settings.minSlides),r.data("origStyle",r.attr("style")),r.children(o.settings.slideSelector).each(function(){e(this).data("origStyle",e(this).attr("style"))}),c()},c=function(){r.wrap('<div class="'+o.settings.wrapperClass+'"><div class="ui-viewport"></div></div>'),o.viewport=r.parent(),o.loader=e('<div class="ui-loading" />'),o.viewport.prepend(o.loader),r.css({width:"horizontal"==o.settings.mode?100*o.children.length+215+"%":"auto",position:"relative"}),o.usingCSS&&o.settings.easing?r.css("-"+o.cssPrefix+"-transition-timing-function",o.settings.easing):o.settings.easing||(o.settings.easing="swing");f();o.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),o.viewport.parent().css({maxWidth:h()}),o.settings.pager||o.viewport.parent().css({margin:"0 auto 0px"}),o.children.css({"float":"horizontal"==o.settings.mode?"left":"none",listStyle:"none",position:"relative"}),o.children.css("width",v()),"horizontal"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginRight",o.settings.slideMargin),"vertical"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginBottom",o.settings.slideMargin),"fade"==o.settings.mode&&(o.children.css({position:"absolute",zIndex:0,display:"none"}),o.children.eq(o.settings.startSlide).css({zIndex:o.settings.slideZIndex,display:"block"})),o.controls.el=e('<div class="ui-controls" />'),o.settings.captions&&$(),o.active.last=o.settings.startSlide==m()-1,o.settings.video&&r.fitVids();var t=o.children.eq(o.settings.startSlide);"all"==o.settings.preloadImages&&(t=o.children),o.settings.ticker?o.settings.pager=!1:(o.settings.pager&&y(),o.settings.controls&&T(),o.settings.auto&&o.settings.autoControls&&C(),(o.settings.controls||o.settings.autoControls||o.settings.pager)&&o.viewport.after(o.controls.el)),g(t,p)},g=function(t,i){var n=t.find("img, iframe").length;if(0==n)return void i();var s=0;t.find("img, iframe").each(function(){e(this).one("load",function(){++s==n&&i()}).each(function(){this.complete&&e(this).load()})})},p=function(){if(o.settings.infiniteLoop&&"fade"!=o.settings.mode&&!o.settings.ticker){var t="vertical"==o.settings.mode?o.settings.minSlides:o.settings.maxSlides,i=o.children.slice(0,t).clone().addClass("ui-clone"),n=o.children.slice(-t).clone().addClass("ui-clone");r.append(i).prepend(n)}o.loader.remove(),S(),"vertical"==o.settings.mode&&(o.settings.adaptiveHeight=!0),o.viewport.height(u()),r.redrawSlider(),o.settings.onSliderLoad(o.active.index),o.initialized=!0,o.settings.responsive&&e(window).bind("resize",O),o.settings.auto&&o.settings.autoStart&&(m()>1||o.settings.autoSlideForOnePage)&&q(),o.settings.ticker&&L(),o.settings.pager&&M(o.settings.startSlide),o.settings.controls&&W(),o.settings.touchEnabled&&!o.settings.ticker&&j()},u=function(){var t=0,n=e();if("vertical"==o.settings.mode||o.settings.adaptiveHeight)if(o.carousel){var s=1==o.settings.moveSlides?o.active.index:o.active.index*x();for(n=o.children.eq(s),i=1;i<=o.settings.maxSlides-1;i++)n=n.add(s+i>=o.children.length?o.children.eq(i-1):o.children.eq(s+i))}else n=o.children.eq(o.active.index);else n=o.children;return"vertical"==o.settings.mode?(n.each(function(i){t+=e(this).outerHeight()}),o.settings.slideMargin>0&&(t+=o.settings.slideMargin*(o.settings.minSlides-1))):t=Math.max.apply(Math,n.map(function(){return e(this).outerHeight(!1)}).get()),"border-box"==o.viewport.css("box-sizing")?t+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))+parseFloat(o.viewport.css("border-top-width"))+parseFloat(o.viewport.css("border-bottom-width")):"padding-box"==o.viewport.css("box-sizing")&&(t+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))),t},h=function(){var e="100%";return o.settings.slideWidth>0&&(e="horizontal"==o.settings.mode?o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin:o.settings.slideWidth),e},v=function(){var e=o.settings.slideWidth,t=o.viewport.width();return 0==o.settings.slideWidth||o.settings.slideWidth>t&&!o.carousel||"vertical"==o.settings.mode?e=t:o.settings.maxSlides>1&&"horizontal"==o.settings.mode&&(t>o.maxThreshold||t<o.minThreshold&&(e=(t-o.settings.slideMargin*(o.settings.minSlides-1))/o.settings.minSlides)),e},f=function(){var e=1;if("horizontal"==o.settings.mode&&o.settings.slideWidth>0)if(o.viewport.width()<o.minThreshold)e=o.settings.minSlides;else if(o.viewport.width()>o.maxThreshold)e=o.settings.maxSlides;else{var t=o.children.first().width()+o.settings.slideMargin;e=Math.floor((o.viewport.width()+o.settings.slideMargin)/t)}else"vertical"==o.settings.mode&&(e=o.settings.minSlides);return e},m=function(){var e=0;if(o.settings.moveSlides>0)if(o.settings.infiniteLoop)e=Math.ceil(o.children.length/x());else for(var t=0,i=0;t<o.children.length;)++e,t=i+f(),i+=o.settings.moveSlides<=f()?o.settings.moveSlides:f();else e=Math.ceil(o.children.length/f());return e},x=function(){return o.settings.moveSlides>0&&o.settings.moveSlides<=f()?o.settings.moveSlides:f()},S=function(){if(o.children.length>o.settings.maxSlides&&o.active.last&&!o.settings.infiniteLoop){if("horizontal"==o.settings.mode){var e=o.children.last(),t=e.position();w(-(t.left-(o.viewport.width()-e.outerWidth())),"reset",0)}else if("vertical"==o.settings.mode){var i=o.children.length-o.settings.minSlides,t=o.children.eq(i).position();w(-t.top,"reset",0)}}else{var t=o.children.eq(o.active.index*x()).position();o.active.index==m()-1&&(o.active.last=!0),void 0!=t&&("horizontal"==o.settings.mode?w(-t.left,"reset",0):"vertical"==o.settings.mode&&w(-t.top,"reset",0))}},w=function(e,t,i,n){if(o.usingCSS){var s="vertical"==o.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)";r.css("-"+o.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"==t?(r.css(o.animProp,s),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),I()})):"reset"==t?r.css(o.animProp,s):"ticker"==t&&(r.css("-"+o.cssPrefix+"-transition-timing-function","linear"),r.css(o.animProp,s),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),w(n.resetValue,"reset",0),H()}))}else{var a={};a[o.animProp]=e,"slide"==t?r.animate(a,i,o.settings.easing,function(){I()}):"reset"==t?r.css(o.animProp,e):"ticker"==t&&r.animate(a,speed,"linear",function(){w(n.resetValue,"reset",0),H()})}},b=function(){var t="",i=m();if(!(m()<=1)){for(var n=0;i>n;n++){var s="";o.settings.buildPager&&e.isFunction(o.settings.buildPager)?(s=o.settings.buildPager(n),o.pagerEl.addClass("ui-custom-pager")):(s=n+1,o.pagerEl.addClass("ui-default-pager")),t+='<div class="ui-pager-item"><a href="javascript:void(0);" data-slide-index="'+n+'" class="ui-pager-link">'+s+"</a></div>"}o.pagerEl.html(t)}},y=function(){o.settings.pagerCustom?o.pagerEl=e(o.settings.pagerCustom):(o.pagerEl=e('<div class="ui-pager" />'),o.settings.pagerSelector?e(o.settings.pagerSelector).html(o.pagerEl):o.controls.el.addClass("ui-has-pager").append(o.pagerEl),b()),o.pagerEl.on("click","a",z)},T=function(){o.controls.next=e('<a class="ui-next" href="javascript:void(0);">'+o.settings.nextText+"</a>"),o.controls.prev=e('<a class="ui-prev" href="javascript:void(0);">'+o.settings.prevText+"</a>"),o.controls.next.bind("click",P),o.controls.prev.bind("click",_),o.settings.nextSelector&&e(o.settings.nextSelector).append(o.controls.next),o.settings.prevSelector&&e(o.settings.prevSelector).append(o.controls.prev),o.settings.nextSelector||o.settings.prevSelector||(o.controls.directionEl=e('<div class="ui-controls-direction" />'),o.controls.directionEl.append(o.controls.prev).append(o.controls.next),o.controls.el.addClass("ui-has-controls-direction").append(o.controls.directionEl))},C=function(){o.controls.start=e('<div class="ui-controls-auto-item"><a class="ui-start" href="javascript:void(0);">'+o.settings.startText+"</a></div>"),o.controls.stop=e('<div class="ui-controls-auto-item"><a class="ui-stop" href="javascript:void(0);">'+o.settings.stopText+"</a></div>"),o.controls.autoEl=e('<div class="ui-controls-auto" />'),o.controls.autoEl.on("click",".ui-start",E),o.controls.autoEl.on("click",".ui-stop",k),o.settings.autoControlsCombine?o.controls.autoEl.append(o.controls.start):o.controls.autoEl.append(o.controls.start).append(o.controls.stop),o.settings.autoControlsSelector?e(o.settings.autoControlsSelector).html(o.controls.autoEl):o.controls.el.addClass("ui-has-controls-auto").append(o.controls.autoEl),J(o.settings.autoStart?"stop":"start")},$=function(){o.children.each(function(t){var i=e(this).find("img:first").attr("title");void 0!=i&&(""+i).length&&e(this).append('<div class="ui-caption"><span>'+i+"</span></div>")})},P=function(e){o.settings.auto&&r.stopAuto(),r.goToNextSlide(),e.preventDefault()},_=function(e){o.settings.auto&&r.stopAuto(),r.goToPrevSlide(),e.preventDefault()},E=function(e){r.startAuto(),e.preventDefault()},k=function(e){r.stopAuto(),e.preventDefault()},z=function(t){o.settings.auto&&r.stopAuto();var i=e(t.currentTarget);if(void 0!==i.attr("data-slide-index")){var n=parseInt(i.attr("data-slide-index"));n!=o.active.index&&r.goToSlide(n),t.preventDefault()}},M=function(t){var i=o.children.length;return"short"==o.settings.pagerType?(o.settings.maxSlides>1&&(i=Math.ceil(o.children.length/o.settings.maxSlides)),void o.pagerEl.html(t+1+o.settings.pagerShortSeparator+i)):(o.pagerEl.find("a").removeClass("active"),void o.pagerEl.each(function(i,n){e(n).find("a").eq(t).addClass("active")}))},I=function(){if(o.settings.infiniteLoop){var e="";0==o.active.index?e=o.children.eq(0).position():o.active.index==m()-1&&o.carousel?e=o.children.eq((m()-1)*x()).position():o.active.index==o.children.length-1&&(e=o.children.eq(o.children.length-1).position()),e&&("horizontal"==o.settings.mode?w(-e.left,"reset",0):"vertical"==o.settings.mode&&w(-e.top,"reset",0))}o.working=!1,o.settings.onSlideAfter(o.children.eq(o.active.index),o.oldIndex,o.active.index)},J=function(e){o.settings.autoControlsCombine?o.controls.autoEl.html(o.controls[e]):(o.controls.autoEl.find("a").removeClass("active"),o.controls.autoEl.find("a:not(.ui-"+e+")").addClass("active"))},W=function(){1==m()?(o.controls.prev.addClass("disabled"),o.controls.next.addClass("disabled")):!o.settings.infiniteLoop&&o.settings.hideControlOnEnd&&(0==o.active.index?(o.controls.prev.addClass("disabled"),o.controls.next.removeClass("disabled")):o.active.index==m()-1?(o.controls.next.addClass("disabled"),o.controls.prev.removeClass("disabled")):(o.controls.prev.removeClass("disabled"),o.controls.next.removeClass("disabled")))},q=function(){if(o.settings.autoDelay>0){setTimeout(r.startAuto,o.settings.autoDelay)}else r.startAuto();o.settings.autoHover&&r.hover(function(){o.interval&&(r.stopAuto(!0),o.autoPaused=!0)},function(){o.autoPaused&&(r.startAuto(!0),o.autoPaused=null)})},L=function(){var t=0;if("next"==o.settings.autoDirection)r.append(o.children.clone().addClass("ui-clone"));else{r.prepend(o.children.clone().addClass("ui-clone"));var i=o.children.first().position();t="horizontal"==o.settings.mode?-i.left:-i.top}w(t,"reset",0),o.settings.pager=!1,o.settings.controls=!1,o.settings.autoControls=!1,o.settings.tickerHover&&!o.usingCSS&&o.viewport.hover(function(){r.stop()},function(){var t=0;o.children.each(function(i){t+="horizontal"==o.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)});var i=o.settings.speed/t,n="horizontal"==o.settings.mode?"left":"top",s=i*(t-Math.abs(parseInt(r.css(n))));H(s)}),H()},H=function(e){speed=e?e:o.settings.speed;var t={left:0,top:0},i={left:0,top:0};"next"==o.settings.autoDirection?t=r.find(".ui-clone").first().position():i=o.children.first().position();var n="horizontal"==o.settings.mode?-t.left:-t.top,s="horizontal"==o.settings.mode?-i.left:-i.top,a={resetValue:s};w(n,"ticker",speed,a)},j=function(){o.touch={start:{x:0,y:0},end:{x:0,y:0}},o.viewport.bind("touchstart",A)},A=function(e){if(o.working)e.preventDefault();else{o.touch.originalPos=r.position();var t=e.originalEvent;o.touch.start.x=t.changedTouches[0].pageX,o.touch.start.y=t.changedTouches[0].pageY,o.viewport.bind("touchmove",N),o.viewport.bind("touchend",D)}},N=function(e){var t=e.originalEvent,i=Math.abs(t.changedTouches[0].pageX-o.touch.start.x),n=Math.abs(t.changedTouches[0].pageY-o.touch.start.y);if(3*i>n&&o.settings.preventDefaultSwipeX?e.preventDefault():3*n>i&&o.settings.preventDefaultSwipeY&&e.preventDefault(),"fade"!=o.settings.mode&&o.settings.oneToOneTouch){var s=0;if("horizontal"==o.settings.mode){var r=t.changedTouches[0].pageX-o.touch.start.x;s=o.touch.originalPos.left+r}else{var r=t.changedTouches[0].pageY-o.touch.start.y;s=o.touch.originalPos.top+r}w(s,"reset",0)}},D=function(e){o.viewport.unbind("touchmove",N);var t=e.originalEvent,i=0;if(o.touch.end.x=t.changedTouches[0].pageX,o.touch.end.y=t.changedTouches[0].pageY,"fade"==o.settings.mode){var n=Math.abs(o.touch.start.x-o.touch.end.x);n>=o.settings.swipeThreshold&&(o.touch.start.x>o.touch.end.x?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto())}else{var n=0;"horizontal"==o.settings.mode?(n=o.touch.end.x-o.touch.start.x,i=o.touch.originalPos.left):(n=o.touch.end.y-o.touch.start.y,i=o.touch.originalPos.top),!o.settings.infiniteLoop&&(0==o.active.index&&n>0||o.active.last&&0>n)?w(i,"reset",200):Math.abs(n)>=o.settings.swipeThreshold?(0>n?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto()):w(i,"reset",200)}o.viewport.unbind("touchend",D)},O=function(t){if(o.initialized){var i=e(window).width(),n=e(window).height();(a!=i||l!=n)&&(a=i,l=n,r.redrawSlider(),o.settings.onSliderResize.call(r,o.active.index))}};return r.goToSlide=function(t,i){if(!o.working&&o.active.index!=t)if(o.working=!0,o.oldIndex=o.active.index,o.active.index=0>t?m()-1:t>=m()?0:t,o.settings.onSlideBefore(o.children.eq(o.active.index),o.oldIndex,o.active.index),"next"==i?o.settings.onSlideNext(o.children.eq(o.active.index),o.oldIndex,o.active.index):"prev"==i&&o.settings.onSlidePrev(o.children.eq(o.active.index),o.oldIndex,o.active.index),o.active.last=o.active.index>=m()-1,o.settings.pager&&M(o.active.index),o.settings.controls&&W(),"fade"==o.settings.mode)o.settings.adaptiveHeight&&o.viewport.height()!=u()&&o.viewport.animate({height:u()},o.settings.adaptiveHeightSpeed),o.children.filter(":visible").fadeOut(o.settings.speed).css({zIndex:0}),o.children.eq(o.active.index).css("zIndex",o.settings.slideZIndex+1).fadeIn(o.settings.speed,function(){e(this).css("zIndex",o.settings.slideZIndex),I()});else{o.settings.adaptiveHeight&&o.viewport.height()!=u()&&o.viewport.animate({height:u()},o.settings.adaptiveHeightSpeed);var n=0,s={left:0,top:0};if(!o.settings.infiniteLoop&&o.carousel&&o.active.last)if("horizontal"==o.settings.mode){var a=o.children.eq(o.children.length-1);s=a.position(),n=o.viewport.width()-a.outerWidth()}else{var l=o.children.length-o.settings.minSlides;s=o.children.eq(l).position()}else if(o.carousel&&o.active.last&&"prev"==i){var d=1==o.settings.moveSlides?o.settings.maxSlides-x():(m()-1)*x()-(o.children.length-o.settings.maxSlides),a=r.children(".ui-clone").eq(d);s=a.position()}else if("next"==i&&0==o.active.index)s=r.find("> .ui-clone").eq(o.settings.maxSlides).position(),o.active.last=!1;else if(t>=0){var c=t*x();s=o.children.eq(c).position()}if("undefined"!=typeof s){var g="horizontal"==o.settings.mode?-(s.left-n):-s.top;w(g,"slide",o.settings.speed)}}},r.goToNextSlide=function(){if(o.settings.infiniteLoop||!o.active.last){var e=parseInt(o.active.index)+1;r.goToSlide(e,"next")}},r.goToPrevSlide=function(){if(o.settings.infiniteLoop||0!=o.active.index){var e=parseInt(o.active.index)-1;r.goToSlide(e,"prev")}},r.startAuto=function(e){o.interval||(o.interval=setInterval(function(){"next"==o.settings.autoDirection?r.goToNextSlide():r.goToPrevSlide()},o.settings.pause),o.settings.autoControls&&1!=e&&J("stop"))},r.stopAuto=function(e){o.interval&&(clearInterval(o.interval),o.interval=null,o.settings.autoControls&&1!=e&&J("start"))},r.getCurrentSlide=function(){return o.active.index},r.getCurrentSlideElement=function(){return o.children.eq(o.active.index)},r.getSlideCount=function(){return o.children.length},r.redrawSlider=function(){o.children.add(r.find(".ui-clone")).width(v()),o.viewport.css("height",u()),o.settings.ticker||S(),o.active.last&&(o.active.index=m()-1),o.active.index>=m()&&(o.active.last=!0),o.settings.pager&&!o.settings.pagerCustom&&(b(),M(o.active.index))},r.destroySlider=function(){o.initialized&&(o.initialized=!1,e(".ui-clone",this).remove(),o.children.each(function(){void 0!=e(this).data("origStyle")?e(this).attr("style",e(this).data("origStyle")):e(this).removeAttr("style")}),void 0!=e(this).data("origStyle")?this.attr("style",e(this).data("origStyle")):e(this).removeAttr("style"),e(this).unwrap().unwrap(),o.controls.el&&o.controls.el.remove(),o.controls.next&&o.controls.next.remove(),o.controls.prev&&o.controls.prev.remove(),o.pagerEl&&o.settings.controls&&o.pagerEl.remove(),e(".ui-caption",this).remove(),o.controls.autoEl&&o.controls.autoEl.remove(),clearInterval(o.interval),o.settings.responsive&&e(window).unbind("resize",O))},r.reloadSlider=function(e){void 0!=e&&(s=e),r.destroySlider(),d()},d(),this}}(jQuery)},function(e,t){MI.getProductPrice=function(e){var t={priceWrapper:".J_productPriceWrapper",originalPrice:".J_originalPrice",currentPrice:".J_currentPrice"},i=$.extend(t,e),n=$(i.priceWrapper),s="//cn.orderapi.mi.com/stock/goods",o=[];n.each(function(){return $(this).attr("data-gid")?void o.push($(this).attr("data-gid")):!0}),o.length&&$.ajax({url:s,dataType:"jsonp",jsonp:"jsonpcallback",data:{gids:o.join(",")},timeout:1e4,error:function(){},success:function(e){if(e&&1===e.code){var t;n.each(function(){if(t=$.trim($(this).attr("data-gid")),e.data[t]){var n=parseFloat(e.data[t].price),s=parseFloat(e.data[t].market_price||e.data[t].price);n===s&&s>0?($(this).find(i.originalPrice).addClass("hide"),$(this).find(i.currentPrice).find(".num").text(n),$(this).removeClass("hide")):s>n&&($(this).find(i.originalPrice).removeClass("hide").find(".num").text(s),$(this).find(i.currentPrice).find(".num").text(n),$(this).removeClass("hide"))}})}}})}}]);